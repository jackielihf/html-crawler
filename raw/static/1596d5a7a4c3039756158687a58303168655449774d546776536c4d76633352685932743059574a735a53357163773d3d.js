!function(t){t.fn.cardtable=function(a){var s=t.extend({},{headIndex:0},a);return a&&a.headIndex?a.headIndex:0,this.each(function(){var a=t(this);if(!a.hasClass("stacktable")){var d=t(this).prop("class"),e=t("<div></div>");void 0!==s.myClass&&e.addClass(s.myClass);var l,n,r,i,h="";a.addClass("stacktable large-only"),l=a.find(">caption").clone(),n=a.find(">thead>tr,>tbody>tr,>tfoot>tr,>tr").eq(0),a.siblings().filter(".small-only").remove(),a.find(">tbody>tr").each(function(){"",r="",i=t(this).prop("class"),t(this).find(">td,>th").each(function(a){""!==t(this).html()&&(r+='<tr class="'+i+'">',n.find(">td,>th").eq(a).html()?r+='<td class="st-key">'+n.find(">td,>th").eq(a).html()+"</td>":r+='<td class="st-key"></td>',r+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",r+="</tr>")}),h+='<table class=" '+d+' stacktable small-only"><tbody>'+r+"</tbody></table>"}),a.find(">tfoot>tr>td").each(function(a,s){""!==t.trim(t(s).text())&&(h+='<table class="'+d+' stacktable small-only"><tbody><tr><td>'+t(s).html()+"</td></tr></tbody></table>")}),e.prepend(l),e.append(t(h)),a.before(e)}})},t.fn.stacktable=function(a){var s,d=t.extend({},{headIndex:0,displayHeader:!0},a);return s=a&&a.headIndex?a.headIndex:0,this.each(function(){var a=t(this).prop("class"),e=t('<table class="'+a+' stacktable small-only"><tbody></tbody></table>');void 0!==d.myClass&&e.addClass(d.myClass);var l,n,r,i,h,o,c,f="";(l=t(this)).addClass("stacktable large-only"),n=l.find(">caption").clone(),r=l.find(">thead>tr,>tbody>tr,>tfoot>tr").eq(0),c=void 0===l.data("display-header")?d.displayHeader:l.data("display-header"),l.find(">tbody>tr, >thead>tr").each(function(a){i="",h="",o=t(this).prop("class"),0===a?c&&(f+='<tr class=" '+o+' "><th class="st-head-row st-head-row-main" colspan="2">'+t(this).find(">th,>td").eq(s).html()+"</th></tr>"):(t(this).find(">td,>th").each(function(a){a===s?i='<tr class="'+o+'"><th class="st-head-row" colspan="2">'+t(this).html()+"</th></tr>":""!==t(this).html()&&(h+='<tr class="'+o+'">',r.find(">td,>th").eq(a).html()?h+='<td class="st-key">'+r.find(">td,>th").eq(a).html()+"</td>":h+='<td class="st-key"></td>',h+='<td class="st-val '+t(this).prop("class")+'">'+t(this).html()+"</td>",h+="</tr>")}),f+=i+h)}),e.prepend(n),e.append(t(f)),l.before(e)})},t.fn.stackcolumns=function(a){var s=t.extend({},{},a);return this.each(function(){var a=t(this),d=a.find(">caption").clone(),e=a.find(">thead>tr,>tbody>tr,>tfoot>tr").eq(0).find(">td,>th").length;if(!(e<3)){var l=t('<table class="stacktable small-only"></table>');void 0!==s.myClass&&l.addClass(s.myClass),a.addClass("stacktable large-only");for(var n=t("<tbody></tbody>"),r=1;r<e;)a.find(">thead>tr,>tbody>tr,>tfoot>tr").each(function(a){var s=t("<tr></tr>");0===a&&s.addClass("st-head-row st-head-row-main");var d=t(this).find(">td,>th").eq(0).clone().addClass("st-key"),e=r;if(t(this).find("*[colspan]").length){var l=0;t(this).find(">td,>th").each(function(){var a=t(this).attr("colspan");if(a?(a=parseInt(a,10),e-=a-1,l+a>r&&(e+=l+a-r-1),l+=a):l++,l>r)return!1})}var i=t(this).find(">td,>th").eq(e).clone().addClass("st-val").removeAttr("colspan");s.append(d,i),n.append(s)}),++r;l.append(t(n)),l.prepend(d),a.before(l)}})}}(jQuery);
